<main>
    <div class="profile-container">
        <!-- Profile Header -->
        <div class="profile-header">
            <div id="profileAvatarContainer" class="profile-avatar">
                <!-- Avatar or initial will be loaded here -->
            </div>
            <input type="file" id="avatarUpload" accept="image/*" style="display: none;">
            <div class="username-container">
                <h2 id="userName" class="profile-username">Loading...</h2>
                <span id="editUsernameBtn" class="edit-icon" title="Edit Username">&#9998;</span>
            </div>
            <p id="userEmail" class="profile-email">Loading...</p>
        </div>

        <!-- General Settings -->
        <div class="profile-card">
            <h2>Settings</h2>
            <div class="setting-item">
                <span>Dark Mode</span>
                <label class="switch">
                    <input type="checkbox" id="darkModeToggle">
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <!-- Tier-gated Notification Settings -->
        <div id="notification-settings-card" class="profile-card" data-tier="premium" style="display: none;">
            <h2>Premium Notifications</h2>
            <div class="setting-item">
                <span>New Prediction Alerts</span>
                <label class="switch">
                    <input type="checkbox" id="predictionAlertsToggle">
                    <span class="slider"></span>
                </label>
            </div>
            <p class="setting-description">Get a push notification when a new high-confidence prediction is available.</p>
        </div>

        <!-- Account Management -->
        <div class="profile-card">
            <h2>Account</h2>
            <button id="manageSubscription" class="button">Manage Subscription</button>
            <button id="logoutBtn" class="button btn-danger">Logout</button>
        </div>

        <!-- App Data -->
        <div class="profile-card">
            <h2>App Data</h2>
            <button id="resetStorage" class="button btn-danger">Reset Cached Data</button>
        </div>

        <!-- Danger Zone -->
        <div class="profile-card danger-zone">
            <h2>Danger Zone</h2>
            <button id="deleteAccountBtn" class="button btn-danger">Delete Account</button>
        </div>
    </div>
</main>